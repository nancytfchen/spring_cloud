spring:
  cloud:
    gateway:
      routes:
        - id: my_route
          uri: lb://localhost # 替换为实际服务名或URL
          predicates:
            - Path=/api/**
          filters:
            - name: RequestRateLimiter
              args:
                redis-rate-limiter.replenishRate: 1 # 每秒补充令牌数
                redis-rate-limiter.burstCapacity: 1 # 突发处理能力
                key-resolver: "#{@userKeyResolver}" # 自定义键解析器引用
  application:
    name: APITest
  redis:
    host: localhost
    port: 6379
    password: # 如果有密码，填写在这里
    lettuce:
      pool:
        max-active: 8
        max-idle: 8
        min-idle: 0

logging:
  level:
    org.springframework.cloud.gateway: DEBUG
    reactor.netty.http.client: DEBUG